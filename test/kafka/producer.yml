
pipeline:

  test-input:
    module: file-in
    config:
      globs:
        - test/kafka/test.log

  lines:
    inChannels:
      - test-input

  kafka-out:
    inChannels:
      - lines
    config:
      hosts:
        - 'localhost:9092'
      topic: logbus-test
      debug: broker,topic,msg
      interval: 100
      compression: gzip

  log-errors:
    module: errors
    inChannels:
      - errors
    config:
      interval: 5
      stackDepth: 6

  log-stats:
    module: stats
    inChannels:
      - stats

  log:
    inChannels:
      - log
      - log-errors
      - log-stats
